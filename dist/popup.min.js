function Popup(){"use strict";function e(e,o){if(u.indexOf(e)===-1)return console.error('请输入合法的"show(arg)",arg可选"confirm" "success" "failure" "loading"'),!1;o=o||{},p.getElementsByClassName("popup-"+e)[0]||t(e),o.text&&(m[e].text=o.text),o.maskColor&&(m[e].maskColor=o.maskColor),r.style.backgroundColor=m[e].maskColor,n();var a=p.getElementsByClassName("popup-"+e)[0],l=a.getElementsByClassName("text")[0];if(l.textContent=m[e].text,"confirm"===e){o.buttonReverse&&(m.confirm.buttonReverse=o.buttonReverse);var c=a.getElementsByClassName("button");m.confirm.buttonReverse?(c[0].style.float="right",c[1].style.float="left"):(c[0].style.float="left",c[1].style.float="right");var i=a.getElementsByClassName("yes")[0],d=a.getElementsByClassName("no")[0];s(i,o.success,m.confirm.success),s(d,o.failure,m.confirm.failure)}o.timeout&&setTimeout(function(){n()},o.timeout),a.style.display="block",p.style.display="block"}function t(e){var t=document.createElement("div");t.classList.add("popup-item","popup-"+e),t.innerHTML=i[e],p.appendChild(t)}function s(e,t,s){o(t)?e.onclick=function(){s(),t()}:e.onclick=s}function o(e){return"[object Function]"===Object.prototype.toString.call(e)}function n(){var e=p.getElementsByClassName("popup-item");p.style.display="none";for(var t=0,s=e.length;t<s;t++)e[t].style.display="none"}var a=document.getElementById("popup-box")||document.getElementsByClassName("popup-box")[0];if(a)console.warn('请删除HTML中的"#popup-box"和".popup-box"元素,否则会出现意想不到的BUG');else{var l=document.createElement("div"),c=document.createElement("div");l.setAttribute("id","popup-box"),l.classList.add("popup-box"),c.classList.add("popup-mask"),l.appendChild(c),document.getElementsByTagName("body")[0].appendChild(l)}var i={confirm:'<div class="confirm-text"><p class="text"></p></div><div class="confirm-button clear-fix">    <button class="button no">取消</button>    <button class="button yes">确定</button></div>',loading:'<span class="icon loading"></span><p class="text"></p>',success:'<span class="icon"></span><p class="text"></p>',failure:'<span class="icon"></span><p class="text"></p>'},p=document.getElementById("popup-box"),r=p.getElementsByClassName("popup-mask")[0],u=["confirm","loading","success","failure"],m={confirm:{maskColor:"rgba(67, 67, 67, 0.5)",text:"解绑后将无法收到该设备的任何消息。您确定要解绑吗?",buttonReverse:!1,success:function(){var e=p.getElementsByClassName("popup-confirm")[0];p.style.display="none",e.style.display="none",console.log("click success")},failure:function(){var e=p.getElementsByClassName("popup-confirm")[0];p.style.display="none",e.style.display="none",console.log("click failure")}},loading:{maskColor:"transparent",text:"解绑中..."},success:{maskColor:"transparent",text:"该设备已解除绑定"},failure:{maskColor:"transparent",text:"该设备解绑失败 请重试"}},d=function(e){e.preventDefault(),e.stopPropagation()},f=function(e){e.stopPropagation()};return p.addEventListener("touchmove",d,!1),r.addEventListener("touchstart",f,!1),r.addEventListener("touchend",f,!1),r.addEventListener("click",f,!1),{show:function(t,s){e(t,s)},close:function(){n()}}}