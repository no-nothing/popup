function popup(){"use strict";function e(e,s){switch(s=s||{},e){case"confirm":t(s);break;case"loading":n(s);break;case"success":o(s);break;case"failure":a(s);break;default:return console.error('请输入合法的"show(arg)",arg可选"confirm" "success" "failure" "loading"'),!1}}function t(e){m.getElementsByClassName("popup-confirm")[0]||i("confirm"),d.style.backgroundColor=e.maskColor||g.confirm.maskColor,l();var t=m.getElementsByClassName("popup-confirm")[0],n=t.getElementsByTagName("p")[0],o=t.getElementsByClassName("yes")[0],a=t.getElementsByClassName("no")[0];n.textContent=e.text||g.confirm.text,t.style.display="block",m.style.display="block",s(o,e.success,g.confirm.success),s(a,e.failure,g.confirm.failure)}function s(e,t,s){p(t)?e.onclick=function(){t(),s()}:e.onclick=s}function n(e){m.getElementsByClassName("popup-loading")[0]||i("loading"),d.style.backgroundColor=e.maskColor||g.loading.maskColor,l();var t=m.getElementsByClassName("popup-loading")[0],s=t.getElementsByTagName("p")[0];s.textContent=e.text||g.loading.text,t.style.display="block",m.style.display="block"}function o(e){m.getElementsByClassName("popup-success")[0]||i("success"),d.style.backgroundColor=e.maskColor||g.loading.maskColor,l();var t=m.getElementsByClassName("popup-success")[0],s=t.getElementsByTagName("p")[0];s.textContent=e.text||g.success.text,t.style.display="block",m.style.display="block"}function a(e){m.getElementsByClassName("popup-failure")[0]||i("failure"),d.style.backgroundColor=e.maskColor||g.loading.maskColor,l();var t=m.getElementsByClassName("popup-failure")[0],s=t.getElementsByTagName("p")[0];s.textContent=e.text||g.failure.text,t.style.display="block",m.style.display="block"}function l(){y=m.getElementsByClassName("popup-item"),m.style.display="none";for(var e=0,t=y.length;e<t;e++)y[e].style.display="none"}function i(e){var t=document.createElement("div");t.classList.add("popup-item","popup-"+e),t.innerHTML=u[e],m.appendChild(t)}function p(e){return"[object Function]"===Object.prototype.toString.call(e)}if(!document.getElementById("popup-box")){var c=document.createElement("div"),r=document.createElement("div");c.setAttribute("id","popup-box"),c.classList.add("popup-box"),r.classList.add("popup-mask"),c.appendChild(r),document.getElementsByTagName("body")[0].appendChild(c)}var u={confirm:'<div class="confirm-text"><p></p></div><div class="confirm-button clear-fix">    <button class="button no">取消</button>    <button class="button yes">确定</button></div>',loading:'<span class="loading"></span><p></p>',success:"<span></span><p></p>",failure:"<span></span><p></p>"},m=document.getElementById("popup-box"),d=m.getElementsByClassName("popup-mask")[0],y=[],g={confirm:{width:"",Height:"",maskColor:"rgba(67, 67, 67, 0.5)",text:"解绑后将无法收到该设备的任何消息。您确定要解绑吗?",success:function(){var e=m.getElementsByClassName("popup-confirm")[0];m.style.display="none",e.style.display="none"},failure:function(){var e=m.getElementsByClassName("popup-confirm")[0];m.style.display="none",e.style.display="none"}},loading:{width:"",Height:"",maskColor:"transparent",text:"解绑中..."},success:{width:"",Height:"",maskColor:"transparent",text:"该设备已解除绑定"},failure:{width:"",Height:"",maskColor:"transparent",text:"该设备解绑失败 请重试"}},f=function(e){e.preventDefault(),e.stopPropagation()},C=function(e){e.stopPropagation()};return m.addEventListener("touchmove",f,!1),m.addEventListener("touchstart",C,!1),m.addEventListener("touchend",C,!1),m.addEventListener("click",C,!1),{show:function(t,s){e(t,s)},close:function(){l()}}}