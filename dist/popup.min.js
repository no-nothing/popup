"use strict";function Popup(){function e(e,n){if(null!==m&&(clearTimeout(m),m=null),u.indexOf(e)===-1)return console.error('请输入合法的"show(arg)",arg可选"confirm" "success" "failure" "loading"'),!1;n=n||{},i.getElementsByClassName("popup-"+e)[0]||t(e),n.text&&(r[e].text=n.text),n.maskColor&&(r[e].maskColor=n.maskColor),p.style.backgroundColor=r[e].maskColor,o();var l=i.getElementsByClassName("popup-"+e)[0];if(l.getElementsByClassName("text")[0].textContent=r[e].text,"confirm"===e){n.buttonReverse&&(r.confirm.buttonReverse=n.buttonReverse);var a=l.getElementsByClassName("button");r.confirm.buttonReverse?(a[0].style.float="right",a[1].style.float="left"):(a[0].style.float="left",a[1].style.float="right");var c=l.getElementsByClassName("yes")[0],d=l.getElementsByClassName("no")[0];s(c,n.success,r.confirm.success),s(d,n.failure,r.confirm.failure)}n.timeout&&(m=setTimeout(function(){o()},n.timeout)),l.style.display="block",i.style.display="block"}function t(e){var t=document.createElement("div");t.classList.add("popup-item","popup-"+e),t.innerHTML=c[e],i.appendChild(t)}function s(e,t,s){n(t)?e.onclick=function(){s(),t()}:e.onclick=s}function n(e){return"[object Function]"===Object.prototype.toString.call(e)}function o(){null!==m&&(clearTimeout(m),m=null);var e=i.getElementsByClassName("popup-item");i.style.display="none";for(var t=0,s=e.length;t<s;t++)e[t].style.display="none"}if(document.getElementById("popup-box")||document.getElementsByClassName("popup-box")[0])console.warn('请删除HTML中的"#popup-box"和".popup-box"元素,否则会出现意想不到的BUG');else{var l=document.createElement("div"),a=document.createElement("div");l.setAttribute("id","popup-box"),l.classList.add("popup-box"),a.classList.add("popup-mask"),l.appendChild(a),document.getElementsByTagName("body")[0].appendChild(l)}var c={confirm:'<div class="confirm-text"><p class="text"></p></div><div class="confirm-button clear-fix">    <button class="button no">取消</button>    <button class="button yes">确定</button></div>',loading:'<span class="icon loading"></span><p class="text"></p>',success:'<span class="icon"></span><p class="text"></p>',failure:'<span class="icon"></span><p class="text"></p>'},i=document.getElementById("popup-box"),p=i.getElementsByClassName("popup-mask")[0],u=["confirm","loading","success","failure"],r={confirm:{maskColor:"rgba(67, 67, 67, 0.5)",text:"解绑后将无法收到该设备的任何消息。您确定要解绑吗?",buttonReverse:!1,success:function(){var e=i.getElementsByClassName("popup-confirm")[0];i.style.display="none",e.style.display="none",console.log("click success")},failure:function(){var e=i.getElementsByClassName("popup-confirm")[0];i.style.display="none",e.style.display="none",console.log("click failure")}},loading:{maskColor:"transparent",text:"解绑中..."},success:{maskColor:"transparent",text:"该设备已解除绑定"},failure:{maskColor:"transparent",text:"该设备解绑失败 请重试"}},m=null,d=function(e){e.preventDefault(),e.stopPropagation()},f=function(e){e.stopPropagation()};return i.addEventListener("touchmove",d,!1),p.addEventListener("touchstart",f,!1),p.addEventListener("touchend",f,!1),p.addEventListener("click",f,!1),{show:function(t,s){e(t,s)},close:function(){o()}}}
//# sourceMappingURL=popup.min.js.map
