function popup(){"use strict";function t(t,o){if(u.indexOf(t)===-1)return console.error('请输入合法的"show(arg)",arg可选"confirm" "success" "failure" "loading"'),!1;o=o||{},c.getElementsByClassName("popup-"+t)[0]||n(t),o.text&&(m[t].text=o.text),o.maskColor&&(m[t].maskColor=o.maskColor),p.style.backgroundColor=m[t].maskColor,s();var a=c.getElementsByClassName("popup-"+t)[0],i=a.getElementsByClassName("text")[0];if(i.textContent=m[t].text,"confirm"===t){var l=a.getElementsByClassName("yes")[0],r=a.getElementsByClassName("no")[0];e(l,o.success,m.confirm.success),e(r,o.failure,m.confirm.failure)}a.style.display="block",c.style.display="block",o.timeout&&setTimeout(function(){s()},o.timeout)}function e(t,e,s){o(e)?t.onclick=function(){s(),e()}:t.onclick=s}function s(){r=c.getElementsByClassName("popup-item"),c.style.display="none";for(var t=0,e=r.length;t<e;t++)r[t].style.display="none"}function n(t){var e=document.createElement("div");e.classList.add("popup-item","popup-"+t),e.innerHTML=l[t],c.appendChild(e)}function o(t){return"[object Function]"===Object.prototype.toString.call(t)}if(!document.getElementById("popup-box")){var a=document.createElement("div"),i=document.createElement("div");a.setAttribute("id","popup-box"),a.classList.add("popup-box"),i.classList.add("popup-mask"),a.appendChild(i),document.getElementsByTagName("body")[0].appendChild(a)}var l={confirm:'<div class="confirm-text"><p class="text"></p></div><div class="confirm-button clear-fix">    <button class="button no">取消</button>    <button class="button yes">确定</button></div>',loading:'<span class="icon loading"></span><p class="text"></p>',success:'<span class="icon"></span><p class="text"></p>',failure:'<span class="icon"></span><p class="text"></p>'},c=document.getElementById("popup-box"),p=c.getElementsByClassName("popup-mask")[0],r=[],u=["confirm","loading","success","failure"],m={confirm:{width:"",Height:"",maskColor:"rgba(67, 67, 67, 0.5)",text:"解绑后将无法收到该设备的任何消息。您确定要解绑吗?",success:function(){var t=c.getElementsByClassName("popup-confirm")[0];c.style.display="none",t.style.display="none",console.log("success")},failure:function(){var t=c.getElementsByClassName("popup-confirm")[0];c.style.display="none",t.style.display="none",console.log("failure")}},loading:{width:"",Height:"",maskColor:"transparent",text:"解绑中...",timeout:"2000"},success:{width:"",Height:"",maskColor:"transparent",text:"该设备已解除绑定"},failure:{width:"",Height:"",maskColor:"transparent",text:"该设备解绑失败 请重试"}},d=function(t){t.preventDefault(),t.stopPropagation()},f=function(t){t.stopPropagation()};return c.addEventListener("touchmove",d,!1),c.addEventListener("touchstart",f,!1),c.addEventListener("touchend",f,!1),c.addEventListener("click",f,!1),{show:function(e,s){t(e,s)},close:function(){s()}}}